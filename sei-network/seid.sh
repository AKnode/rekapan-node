
#!/bin/sh


echo -e "\033[0;34m"
echo "  â–„â–„â–„       â–ˆâ–ˆ â–„â–ˆâ–€ â–ˆâ–ˆâ–ˆâ–„    â–ˆ  â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„ â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ "; 
echo " â–’â–ˆâ–ˆâ–ˆâ–ˆâ–„     â–ˆâ–ˆâ–„â–ˆâ–’  â–ˆâ–ˆ â–€â–ˆ   â–ˆ â–’â–ˆâ–ˆâ–’  â–ˆâ–ˆâ–’â–’â–ˆâ–ˆâ–€ â–ˆâ–ˆâ–Œâ–“â–ˆ   â–€ "; 
echo " â–’â–ˆâ–ˆ  â–€â–ˆâ–„  â–“â–ˆâ–ˆâ–ˆâ–„â–‘ â–“â–ˆâ–ˆ  â–€â–ˆ â–ˆâ–ˆâ–’â–’â–ˆâ–ˆâ–‘  â–ˆâ–ˆâ–’â–‘â–ˆâ–ˆ   â–ˆâ–Œâ–’â–ˆâ–ˆâ–ˆ   "; 
echo " â–‘â–ˆâ–ˆâ–„â–„â–„â–„â–ˆâ–ˆ â–“â–ˆâ–ˆ â–ˆâ–„ â–“â–ˆâ–ˆâ–’  â–â–Œâ–ˆâ–ˆâ–’â–’â–ˆâ–ˆ   â–ˆâ–ˆâ–‘â–‘â–“â–ˆâ–„   â–Œâ–’â–“â–ˆ  â–„ ";
echo "  â–“â–ˆ   â–“â–ˆâ–ˆâ–’â–’â–ˆâ–ˆâ–’ â–ˆâ–„â–’â–ˆâ–ˆâ–‘   â–“â–ˆâ–ˆâ–‘â–‘ â–ˆâ–ˆâ–ˆâ–ˆâ–“â–’â–‘â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–“ â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–’";
echo "  â–’â–’   â–“â–’â–ˆâ–‘â–’ â–’â–’ â–“â–’â–‘ â–’â–‘   â–’ â–’ â–‘ â–’â–‘â–’â–‘â–’â–‘  â–’â–’â–“  â–’ â–‘â–‘ â–’â–‘ â–‘";
echo "   â–’   â–’â–’ â–‘â–‘ â–‘â–’ â–’â–‘â–‘ â–‘â–‘   â–‘ â–’â–‘  â–‘ â–’ â–’â–‘  â–‘ â–’  â–’  â–‘ â–‘  â–‘";
echo "   â–‘   â–’   â–‘ â–‘â–‘ â–‘    â–‘   â–‘ â–‘ â–‘ â–‘ â–‘ â–’   â–‘ â–‘  â–‘    â–‘   ";
echo "       â–‘  â–‘â–‘  â–‘            â–‘     â–‘ â–‘     â–‘       â–‘  â–‘";
echo "                                       â–‘             ";
echo -e "\e[0m"
echo -e "\033[0;32m"
echo "Telegram : @Paperhang                                ";
echo "Twitter  : @rehan_ssf                                ";
echo -e "\e[0m"
sleep 2
echo
# Set Vars
if [ ! $NODENAME ]; then
	read -p "NODENAME ðŸ‘‰  : " NODENAME
	echo 'export NODENAME='$NODENAME >> $HOME/.bash_profile
fi
QUICKSILVER_PORT=11
if [ ! $WALLET ]; then
    read -p "NAME WALLET ðŸ‘‰  : " WALLET
	echo "export WALLET=$WALLET" >> $HOME/.bash_profile
fi
echo "export SEI_CHAIN_ID=sei-testnet-2" >> $HOME/.bash_profile
echo "export SEI_PORT=${SEI_PORT}" >> $HOME/.bash_profile
source $HOME/.bash_profile
echo
echo '||================INFO===================||'
echo
echo -e "YOU NODE NAME : \e[1m\e[34m$NODENAME\e[0m"
echo -e "YOU WALLET NAME : \e[1m\e[34m$WALLET\e[0m"
echo -e "YOU CHAIN ID : \e[1m\e[34m$SEI_CHAIN_ID\e[0m"
sleep 2
echo
echo -e "\e[1m\e[33m1. Update... \e[0m" && sleep 1
echo
sudo apt update && sudo apt upgrade -y
echo
sudo apt update && sudo apt upgrade -y && sudo apt autoremove -y && sudo apt install make clang pkg-config libssl-dev build-essential git jq llvm libudev-dev -y

echo -e "\e[1m\e[33m2. Install ... \e[0m" && sleep 1

# install go
wget https://go.dev/dl/go1.18.1.linux-amd64.tar.gz \
&& sudo tar -xvf go1.18.1.linux-amd64.tar.gz && sudo mv go /usr/local \
&& echo "export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin" >> ~/.bash_profile \
&& source ~/.bash_profile; go version

rm go1.18.1.linux-amd64.tar.gz

cd || return
rm -rf sei-chain
git clone https://github.com/sei-protocol/sei-chain.git
cd sei-chain || return
git checkout 1.0.5beta
make install
seid version # 1.0.5beta

# replace nodejumper with your own moniker, if you'd like
seid config chain-id sei-testnet-2
seid init nodejumper --chain-id sei-testnet-2 -o

curl https://raw.githubusercontent.com/sei-protocol/testnet/master/sei-testnet-2/genesis.json > ~/.sei/config/genesis.json
sha256sum $HOME/.sei/config/genesis.json # aec481191276a4c5ada2c3b86ac6c8aad0cea5c4aa6440314470a2217520e2cc

curl https://raw.githubusercontent.com/sei-protocol/testnet/master/sei-testnet-2/addrbook.json > ~/.sei/config/addrbook.json
sha256sum $HOME/.sei/config/addrbook.json # 9058b83fca36c2c09fb2b7c04293382084df0960b4565090c21b65188816ffa6

sed -i 's|^minimum-gas-prices *=.*|minimum-gas-prices = "0.0001usei"|g' $HOME/.sei/config/app.toml
seeds=""
peers="59bbe8e365c56e29ccd1d88462fe92c43bc8e173@89.163.143.208:26656,22501ed27f978ced8e87890587662c5a7c4e5d79@80.71.157.127:26656,bbb7ecab87f07a9f9a44225c6fd4fff84828cf89@185.239.209.180:36656,6a1df7b06df67690fc8278ebf9c7d9c430fe76ad@178.20.44.109:26656,210f71b8473071151709bf3f5daa1780c7aa5dc1@213.136.79.225:26656,abf7583be5fb20b3077db8adb119dc84f1da5d22@95.216.212.199:26656,beb073de846a989b9e652d466b79d0568555e611@213.21.221.203:26656,a072edc1590280b2f217309b0223d84853fe9973@89.58.45.204:36656,e6f0370c02dcd620ac98b72b4613a3bd9370b3a3@135.181.24.91:26656,29612b78e364c5232643e294a25f6d83e15aaaaa@34.72.224.7:36376,77275c51209d80edda403559a0a86ff3448fbeee@167.235.252.126:26656,2c9fd06ef43f990a8dd2b15b888c0ae6d22b6caa@40.76.228.222:26656,ea4157c6619df0789934efaa606b944d34921e76@143.110.227.61:12656,17381b81322b23371b4882b2139fe06bcbf4d29e@173.212.212.197:36376,c0254cbd73cc07ed4cc0c89d53352d52a59e8554@207.244.232.190:26656,e3768ff846a8dc4549d1554bbe51d8f75ad1f0f1@194.36.88.209:36376,48291b570ce58b580a6446305ca7265068afe52b@20.90.15.74:12656,fa36f03edf8d3f0fa23e54b8c50b97eef7faaf76@64.227.40.51:26656,6af782ce6a8e86b74747c0164172030d334a358f@144.91.86.61:26656,28520155eed59ea048907d33f55b556ea4cc3e77@95.214.54.116:26616,0a57e78e2eb3cab459e7a693aabc3abd139f47b2@20.248.171.120:12656,bbb409820875630558bd290dce6269129f151588@20.231.211.234:12656,0fc94fccbbc89a07c104d54e21106ec60ad43b19@34.125.23.209:26656,94003080caefa1e35cb6d530495a053e12ebb93f@34.122.236.225:26656,049b3503791e30345862ae90715e34cd45b8be1d@167.86.100.244:26656,34d832aab31e086d5b11e049486b9f6c426c6f33@185.182.187.157:26656,db9200f16e2957d635917684c4d214a0bef03240@161.97.135.0:26656,3370dab8eaa935f4bc6cfad81e0af751caee5686@195.2.84.133:26656,d283dfd6625d4b9a11800396a76bdfb7bd95b2fd@46.101.98.136:12656,38b4d78c7d6582fb170f6c19330a7e37e6964212@194.163.189.114:46656,d30105775ce7b40e6b2e36adacfcac6d7bde1ea8@144.91.78.27:26656,1643290fc6c082787dec187908b257dabdbdb10a@142.132.226.193:26656,8db74151e524407b741c3d8cab64dd07cd376e87@149.102.128.137:26656,a191d3195041125aeb871ae725bf264d3a700c4c@91.189.130.42:26656,aea38740ebae02b29e871e2db6700479b795594b@185.237.253.62:26656,aa7395c2a3f63584108f9d58ae8657937116d4e0@161.97.178.229:26656,124daefc5d3fb3180800a2b3b74084d028273541@212.3.132.244:26656,729c0bfbb7de10251951ccf28cf4d27f85d802de@34.128.119.100:12656,2606158b782bc60134d59824d56c9a5534ef6f5d@40.81.201.108:12656,e70a2a14fa4d9e0303bd07e54f8855ecd7392267@62.141.37.152:26656,22ca5f1a6fbc38c801ba43d874867766bec16326@206.189.9.37:12656,1e4b8c70a61a77ba42b3c9f13de876967509a9c3@38.242.227.116:26656,46b32bca792e2d164f13cbe95da7a5c424a37ca1@161.35.157.207:26656,673f0856dc7790f93b4ade35788ae1447aede65b@194.34.232.248:26656,7c8063f9339a6981d748b937a19996f72de163e8@149.102.140.241:26656,31a1f6dd153cdd3b643ee32e9dd045323f2bfa71@138.68.156.153:36376,3a7d20f10512092859f48b114c4202ff6fe3d4a7@146.190.23.84:26656,45835c3dcff738cd1d236d6d28a9b8dde8c84f2a@149.102.150.27:26656,7f86c61a03303cb5c15447577dc67292888af32c@158.101.197.56:26656,561b277519fc053c7e23f8e259bdbb932e78eba1@20.106.193.234:12656,1c89c64719356c13a78f3d9509ea08f58d79a6c5@38.242.203.206:26656,0ed31773e2bfd8c892ad082616f7a068e0bf47c1@194.163.171.148:26656,34a52df7fafdfb48597946d3088f1988a4986e7d@178.128.126.143:12656,b8bf51b44009d35771d4575239325a6f6035d287@95.111.254.87:12656,9fc5e75ed611ac339ea4273b30f465bcbd8815de@20.2.224.167:12656,d1cbc34e01ee023c5560572a50d99bb4b3f3d653@185.205.244.134:12656,17b0e14445376c49dd491b2029e9917ede360d21@20.41.113.243:12656,5596db11b46e07f771ad887ea956bda4a40e685d@164.68.114.174:26656,a6bd3b2266217c0ae20ff7de05ae53b076571c5c@62.171.163.19:26656,3590457f1396f2a9a26537eddcaea50bec69342b@65.108.193.210:7095,fce6d3b297b680ca0cb6a4a9b45fef82232ab0fd@94.250.203.179:26656,953fb40ca4f34eeca628f0efc4650687ac13e60e@161.97.111.157:26656,3a348684b39b465bf87365358823ff3cd946d6da@20.83.190.117:12656,177519d9a236b0aadfe4d19d6a31d65563ebda89@188.166.53.90:26656,ca0a77639c5d383d1e4eb252942e3f39380e64d9@194.163.176.3:26656,7f192ef8b05ece5acfd21fcbf4e1288d91265243@195.3.221.48:27656,3e9eb13eef197e95882bfcb2a251704a1bdb5f89@149.102.128.59:36376,8c94e3c288a716f87d14b354814008af89188198@62.113.115.234:26656,4d395a317af406e6ed31d4c6c923029665bd6760@38.242.212.126:36656,6ed4d1a8c31e6176dc1a3967075771e07b630525@144.91.80.50:26656,336501f96672681a7dcf25c2db271b244d1256c4@185.217.126.3:26656,2ca59e9ca235d03ddab91ee2b9889f445c4a9c28@149.102.138.82:26656,ce70953118a95ae0b6286943ff0d42107372ce62@136.244.82.24:26656,48090784b322825ebbb57313e1e0f133ddc7b184@149.102.139.145:26656,17dc0dd46042a8bd8c17380462babddf50d58ce9@149.102.142.221:26656,1eacc1597584cd13b0e83513a889590a8f4b1315@68.183.232.121:12656,27238e2f804bf28a14c186a2e0f0ceaae0d2588f@188.165.221.155:30519,ed9fd1e10ca4219b19c1249e2a3555ce3ebe4595@149.102.159.219:26656,3b09b0e7a3b8bc19c117062c55e6ce13ae91b8b6@207.231.104.10:36656,6a876e2c9f78a6b086e30f9bcdbdb3b964e50a0f@65.21.132.27:26656,fd19b1fd21608039750238a672c756037c4a9883@149.102.140.38:26656,630cfbea16c7b933fc3c4a37cc6ad43e019c124d@194.163.150.140:26656,42da0528c92f8f16585b0af91bbf05620b815b31@161.97.145.67:26656,0381f33748f15296892b5ca11e5a907f284c5f6a@38.242.237.84:26656,e677be91206ece2bf1090bd47a913814c896253a@85.12.236.11:26656,0940a8d545be0d54251247d20c5cd94b232de838@149.102.140.168:12656,9317f48e9b6a57125d2cb9213f53627f138d481c@52.165.96.95:12656,562ecce73eec609724d0ef3d7d81e19a1ef6a7ac@139.59.105.189:12656,3246616aeb3c8606328565b5dc23271858bf02f5@146.190.18.178:26656,39dec6c05ef84e799954385375fc17ff9bc8c718@172.105.120.111:12656,3c3abc84ebf4b68c461990b604dce0b18d22bf84@49.12.110.26:26656,61e46510c711e5702aef025c6b64b46154cb1513@185.218.125.242:26656,580f0d0c3509daa0972a7df6d7b70a634aa7c385@159.223.234.209:26656,5b5ec09067a5fcaccf75f19b45ab29ce07e0167c@18.118.159.154:26656,b0a8d175b663834a794ca02c1ca798abfbf72dcf@149.102.129.136:12656,08491c84e876898f7c7e268223918c4deb624192@149.102.132.210:26656,3068f33dc82171d6dffb3db04708269822c4271d@161.35.83.138:26656,e9a0f5b5552ee7873660c801df4e30bc2976625b@89.163.209.173:26656,8de8a424906ae925c85d304c6415a86585238207@149.102.138.158:26656,d25952b490daebaba3a4054322bb7a92d8ec80bc@35.193.115.148:26656,d91b1240854d85b5d3cb5f26d1866621d7acb8d5@185.209.28.76:26656,81c28d438341c8a4f2d6d71deee30c23c99ce1f2@178.18.247.126:26656,c9cb1030ddda45b804a30fb582a6d9547f9ce8a4@38.242.254.88:26656,2918b263193c173ad4b3ad3b36095d28d87e2545@80.208.229.252:26656,e114ff5022a423c484e32768158edc17d121fd6d@116.203.65.23:26656,d4479d0bf6e543ec60fae27206ec5a70837c555e@38.242.129.240:36376,4a46ed1778429da39b67fe5a2939086063f0d57b@149.102.142.105:26656,055ac1b6b41944cb74975a787be5618c15e8eb84@144.91.99.188:36376,b2bb0cbda33d7d31cd56f67fd7514ded43de543e@62.171.139.94:36656,b6e9a99fb9a960fa71d36f0c9b442c2b9fba9484@51.120.1.230:12656,8f92b6cee21d640b14fc8394c531554161496612@149.102.151.226:36376,f1358cbcd16b4e5c94b72159780c7eb3653016f1@38.242.210.93:26656,6de40bd4f96c8d0150136ef5cfa1a2d549ba57aa@35.193.71.12:26656,8b5a9cfb9bb85e98555664bccf75943f9ee12567@185.215.165.70:26656,be84446a7e30fb67640906da142e5e7ba29cd9aa@194.146.12.72:36376,091258cfa3f0e44682658312efe810217a4f2f19@34.132.247.98:26656,0922bbc4a4c054f636582964704e7582366b4e8e@66.94.107.223:12656,c60e32c32e29cd56beba6512202a37cd251f9194@38.242.207.87:26656,1208b3454be56def876833d61cecf877e4f5dd39@46.0.203.78:23356,ab722a023c64298958bb3b3dccc8fb2f28736edc@149.102.142.75:26656,6e3b9786429b8f42413647694bc2d7e333d1b03a@94.103.93.162:26656,ab8d0ce1794f2ec61ed422c41dbdf1f1f0ca76d5@195.2.73.108:26656,3de20b80b0230642cb3415a18ba22642e5456523@65.108.138.183:8095,5284d7693a697171bb595a3dfe963249236221cd@159.223.216.136:26656,a31a25a812e13bbbe58a58c14db3cd529c4f870d@3.15.197.187:26656,be37e6557b6a29d60a658bb9a9222eb160b0ac96@38.242.251.251:26656,be66ba94c6bd71412ab84fe3b225560120c7a8dd@149.102.138.156:26656,b7ad8793ff646d036cf1565b4511d295fa31a4ee@164.92.243.14:26656,c7e840c61fbd5e34546b3e8e2e612ba4b10e7305@149.102.139.233:26656,c0f8e0b89c9f33ac6eeacfef5390adc061bd33b3@45.140.146.93:26656,3506c83f8df3d3c6ef3bee9c92c9687edba3bf99@65.108.14.10:56656,fbcc659179fb310c942ba17c2e9880eab682203a@194.233.92.184:26656,313a94dcbb189110816e37efef8eb09dd196aabb@95.214.53.187:26656"
sed -i -e 's|^seeds *=.*|seeds = "'$seeds'"|; s|^persistent_peers *=.*|persistent_peers = "'$peers'"|' $HOME/.sei/config/config.toml

# in case of pruning
sed -i 's|pruning = "default"|pruning = "custom"|g' $HOME/.sei/config/app.toml
sed -i 's|pruning-keep-recent = "0"|pruning-keep-recent = "100"|g' $HOME/.sei/config/app.toml
sed -i 's|pruning-interval = "0"|pruning-interval = "10"|g' $HOME/.sei/config/app.toml

sudo tee /etc/systemd/system/seid.service > /dev/null << EOF
[Unit]
Description=Sei Protocol Node
After=network-online.target
[Service]
User=$USER
ExecStart=$(which seid) start
Restart=on-failure
RestartSec=10
LimitNOFILE=10000
[Install]
WantedBy=multi-user.target
EOF

seid tendermint unsafe-reset-all --home $HOME/.sei --keep-addr-book

SNAP_RPC="http://rpc1-testnet.nodejumper.io:28657"
LATEST_HEIGHT=$(curl -s $SNAP_RPC/block | jq -r .result.block.header.height); \
BLOCK_HEIGHT=$((LATEST_HEIGHT - 2000)); \
TRUST_HASH=$(curl -s "$SNAP_RPC/block?height=$BLOCK_HEIGHT" | jq -r .result.block_id.hash)

echo $LATEST_HEIGHT $BLOCK_HEIGHT $TRUST_HASH

sed -i -E "s|^(enable[[:space:]]+=[[:space:]]+).*$|\1true| ; \
s|^(rpc_servers[[:space:]]+=[[:space:]]+).*$|\1\"$SNAP_RPC,$SNAP_RPC\"| ; \
s|^(trust_height[[:space:]]+=[[:space:]]+).*$|\1$BLOCK_HEIGHT| ; \
s|^(trust_hash[[:space:]]+=[[:space:]]+).*$|\1\"$TRUST_HASH\"|" $HOME/.sei/config/config.toml

sudo systemctl daemon-reload
sudo systemctl enable seid
sudo systemctl restart seid

sudo systemctl stop seid.service
seid tendermint unsafe-reset-all --home $HOME/.sei

sudo systemctl restart seid.service

# append nodejumper peer
nj_peer="59bbe8e365c56e29ccd1d88462fe92c43bc8e173@89.163.143.208:26656,22501ed27f978ced8e87890587662c5a7c4e5d79@80.71.157.127:26656,bbb7ecab87f07a9f9a44225c6fd4fff84828cf89@185.239.209.180:36656,6a1df7b06df67690fc8278ebf9c7d9c430fe76ad@178.20.44.109:26656,210f71b8473071151709bf3f5daa1780c7aa5dc1@213.136.79.225:26656,abf7583be5fb20b3077db8adb119dc84f1da5d22@95.216.212.199:26656,beb073de846a989b9e652d466b79d0568555e611@213.21.221.203:26656,a072edc1590280b2f217309b0223d84853fe9973@89.58.45.204:36656,e6f0370c02dcd620ac98b72b4613a3bd9370b3a3@135.181.24.91:26656,29612b78e364c5232643e294a25f6d83e15aaaaa@34.72.224.7:36376,77275c51209d80edda403559a0a86ff3448fbeee@167.235.252.126:26656,2c9fd06ef43f990a8dd2b15b888c0ae6d22b6caa@40.76.228.222:26656,ea4157c6619df0789934efaa606b944d34921e76@143.110.227.61:12656,17381b81322b23371b4882b2139fe06bcbf4d29e@173.212.212.197:36376,c0254cbd73cc07ed4cc0c89d53352d52a59e8554@207.244.232.190:26656,e3768ff846a8dc4549d1554bbe51d8f75ad1f0f1@194.36.88.209:36376,48291b570ce58b580a6446305ca7265068afe52b@20.90.15.74:12656,fa36f03edf8d3f0fa23e54b8c50b97eef7faaf76@64.227.40.51:26656,6af782ce6a8e86b74747c0164172030d334a358f@144.91.86.61:26656,28520155eed59ea048907d33f55b556ea4cc3e77@95.214.54.116:26616,0a57e78e2eb3cab459e7a693aabc3abd139f47b2@20.248.171.120:12656,bbb409820875630558bd290dce6269129f151588@20.231.211.234:12656,0fc94fccbbc89a07c104d54e21106ec60ad43b19@34.125.23.209:26656,94003080caefa1e35cb6d530495a053e12ebb93f@34.122.236.225:26656,049b3503791e30345862ae90715e34cd45b8be1d@167.86.100.244:26656,34d832aab31e086d5b11e049486b9f6c426c6f33@185.182.187.157:26656,db9200f16e2957d635917684c4d214a0bef03240@161.97.135.0:26656,3370dab8eaa935f4bc6cfad81e0af751caee5686@195.2.84.133:26656,d283dfd6625d4b9a11800396a76bdfb7bd95b2fd@46.101.98.136:12656,38b4d78c7d6582fb170f6c19330a7e37e6964212@194.163.189.114:46656,d30105775ce7b40e6b2e36adacfcac6d7bde1ea8@144.91.78.27:26656,1643290fc6c082787dec187908b257dabdbdb10a@142.132.226.193:26656,8db74151e524407b741c3d8cab64dd07cd376e87@149.102.128.137:26656,a191d3195041125aeb871ae725bf264d3a700c4c@91.189.130.42:26656,aea38740ebae02b29e871e2db6700479b795594b@185.237.253.62:26656,aa7395c2a3f63584108f9d58ae8657937116d4e0@161.97.178.229:26656,124daefc5d3fb3180800a2b3b74084d028273541@212.3.132.244:26656,729c0bfbb7de10251951ccf28cf4d27f85d802de@34.128.119.100:12656,2606158b782bc60134d59824d56c9a5534ef6f5d@40.81.201.108:12656,e70a2a14fa4d9e0303bd07e54f8855ecd7392267@62.141.37.152:26656,22ca5f1a6fbc38c801ba43d874867766bec16326@206.189.9.37:12656,1e4b8c70a61a77ba42b3c9f13de876967509a9c3@38.242.227.116:26656,46b32bca792e2d164f13cbe95da7a5c424a37ca1@161.35.157.207:26656,673f0856dc7790f93b4ade35788ae1447aede65b@194.34.232.248:26656,7c8063f9339a6981d748b937a19996f72de163e8@149.102.140.241:26656,31a1f6dd153cdd3b643ee32e9dd045323f2bfa71@138.68.156.153:36376,3a7d20f10512092859f48b114c4202ff6fe3d4a7@146.190.23.84:26656,45835c3dcff738cd1d236d6d28a9b8dde8c84f2a@149.102.150.27:26656,7f86c61a03303cb5c15447577dc67292888af32c@158.101.197.56:26656,561b277519fc053c7e23f8e259bdbb932e78eba1@20.106.193.234:12656,1c89c64719356c13a78f3d9509ea08f58d79a6c5@38.242.203.206:26656,0ed31773e2bfd8c892ad082616f7a068e0bf47c1@194.163.171.148:26656,34a52df7fafdfb48597946d3088f1988a4986e7d@178.128.126.143:12656,b8bf51b44009d35771d4575239325a6f6035d287@95.111.254.87:12656,9fc5e75ed611ac339ea4273b30f465bcbd8815de@20.2.224.167:12656,d1cbc34e01ee023c5560572a50d99bb4b3f3d653@185.205.244.134:12656,17b0e14445376c49dd491b2029e9917ede360d21@20.41.113.243:12656,5596db11b46e07f771ad887ea956bda4a40e685d@164.68.114.174:26656,a6bd3b2266217c0ae20ff7de05ae53b076571c5c@62.171.163.19:26656,3590457f1396f2a9a26537eddcaea50bec69342b@65.108.193.210:7095,fce6d3b297b680ca0cb6a4a9b45fef82232ab0fd@94.250.203.179:26656,953fb40ca4f34eeca628f0efc4650687ac13e60e@161.97.111.157:26656,3a348684b39b465bf87365358823ff3cd946d6da@20.83.190.117:12656,177519d9a236b0aadfe4d19d6a31d65563ebda89@188.166.53.90:26656,ca0a77639c5d383d1e4eb252942e3f39380e64d9@194.163.176.3:26656,7f192ef8b05ece5acfd21fcbf4e1288d91265243@195.3.221.48:27656,3e9eb13eef197e95882bfcb2a251704a1bdb5f89@149.102.128.59:36376,8c94e3c288a716f87d14b354814008af89188198@62.113.115.234:26656,4d395a317af406e6ed31d4c6c923029665bd6760@38.242.212.126:36656,6ed4d1a8c31e6176dc1a3967075771e07b630525@144.91.80.50:26656,336501f96672681a7dcf25c2db271b244d1256c4@185.217.126.3:26656,2ca59e9ca235d03ddab91ee2b9889f445c4a9c28@149.102.138.82:26656,ce70953118a95ae0b6286943ff0d42107372ce62@136.244.82.24:26656,48090784b322825ebbb57313e1e0f133ddc7b184@149.102.139.145:26656,17dc0dd46042a8bd8c17380462babddf50d58ce9@149.102.142.221:26656,1eacc1597584cd13b0e83513a889590a8f4b1315@68.183.232.121:12656,27238e2f804bf28a14c186a2e0f0ceaae0d2588f@188.165.221.155:30519,ed9fd1e10ca4219b19c1249e2a3555ce3ebe4595@149.102.159.219:26656,3b09b0e7a3b8bc19c117062c55e6ce13ae91b8b6@207.231.104.10:36656,6a876e2c9f78a6b086e30f9bcdbdb3b964e50a0f@65.21.132.27:26656,fd19b1fd21608039750238a672c756037c4a9883@149.102.140.38:26656,630cfbea16c7b933fc3c4a37cc6ad43e019c124d@194.163.150.140:26656,42da0528c92f8f16585b0af91bbf05620b815b31@161.97.145.67:26656,0381f33748f15296892b5ca11e5a907f284c5f6a@38.242.237.84:26656,e677be91206ece2bf1090bd47a913814c896253a@85.12.236.11:26656,0940a8d545be0d54251247d20c5cd94b232de838@149.102.140.168:12656,9317f48e9b6a57125d2cb9213f53627f138d481c@52.165.96.95:12656,562ecce73eec609724d0ef3d7d81e19a1ef6a7ac@139.59.105.189:12656,3246616aeb3c8606328565b5dc23271858bf02f5@146.190.18.178:26656,39dec6c05ef84e799954385375fc17ff9bc8c718@172.105.120.111:12656,3c3abc84ebf4b68c461990b604dce0b18d22bf84@49.12.110.26:26656,61e46510c711e5702aef025c6b64b46154cb1513@185.218.125.242:26656,580f0d0c3509daa0972a7df6d7b70a634aa7c385@159.223.234.209:26656,5b5ec09067a5fcaccf75f19b45ab29ce07e0167c@18.118.159.154:26656,b0a8d175b663834a794ca02c1ca798abfbf72dcf@149.102.129.136:12656,08491c84e876898f7c7e268223918c4deb624192@149.102.132.210:26656,3068f33dc82171d6dffb3db04708269822c4271d@161.35.83.138:26656,e9a0f5b5552ee7873660c801df4e30bc2976625b@89.163.209.173:26656,8de8a424906ae925c85d304c6415a86585238207@149.102.138.158:26656,d25952b490daebaba3a4054322bb7a92d8ec80bc@35.193.115.148:26656,d91b1240854d85b5d3cb5f26d1866621d7acb8d5@185.209.28.76:26656,81c28d438341c8a4f2d6d71deee30c23c99ce1f2@178.18.247.126:26656,c9cb1030ddda45b804a30fb582a6d9547f9ce8a4@38.242.254.88:26656,2918b263193c173ad4b3ad3b36095d28d87e2545@80.208.229.252:26656,e114ff5022a423c484e32768158edc17d121fd6d@116.203.65.23:26656,d4479d0bf6e543ec60fae27206ec5a70837c555e@38.242.129.240:36376,4a46ed1778429da39b67fe5a2939086063f0d57b@149.102.142.105:26656,055ac1b6b41944cb74975a787be5618c15e8eb84@144.91.99.188:36376,b2bb0cbda33d7d31cd56f67fd7514ded43de543e@62.171.139.94:36656,b6e9a99fb9a960fa71d36f0c9b442c2b9fba9484@51.120.1.230:12656,8f92b6cee21d640b14fc8394c531554161496612@149.102.151.226:36376,f1358cbcd16b4e5c94b72159780c7eb3653016f1@38.242.210.93:26656,6de40bd4f96c8d0150136ef5cfa1a2d549ba57aa@35.193.71.12:26656,8b5a9cfb9bb85e98555664bccf75943f9ee12567@185.215.165.70:26656,be84446a7e30fb67640906da142e5e7ba29cd9aa@194.146.12.72:36376,091258cfa3f0e44682658312efe810217a4f2f19@34.132.247.98:26656,0922bbc4a4c054f636582964704e7582366b4e8e@66.94.107.223:12656,c60e32c32e29cd56beba6512202a37cd251f9194@38.242.207.87:26656,1208b3454be56def876833d61cecf877e4f5dd39@46.0.203.78:23356,ab722a023c64298958bb3b3dccc8fb2f28736edc@149.102.142.75:26656,6e3b9786429b8f42413647694bc2d7e333d1b03a@94.103.93.162:26656,ab8d0ce1794f2ec61ed422c41dbdf1f1f0ca76d5@195.2.73.108:26656,3de20b80b0230642cb3415a18ba22642e5456523@65.108.138.183:8095,5284d7693a697171bb595a3dfe963249236221cd@159.223.216.136:26656,a31a25a812e13bbbe58a58c14db3cd529c4f870d@3.15.197.187:26656,be37e6557b6a29d60a658bb9a9222eb160b0ac96@38.242.251.251:26656,be66ba94c6bd71412ab84fe3b225560120c7a8dd@149.102.138.156:26656,b7ad8793ff646d036cf1565b4511d295fa31a4ee@164.92.243.14:26656,c7e840c61fbd5e34546b3e8e2e612ba4b10e7305@149.102.139.233:26656,c0f8e0b89c9f33ac6eeacfef5390adc061bd33b3@45.140.146.93:26656,3506c83f8df3d3c6ef3bee9c92c9687edba3bf99@65.108.14.10:56656,fbcc659179fb310c942ba17c2e9880eab682203a@194.233.92.184:26656,313a94dcbb189110816e37efef8eb09dd196aabb@95.214.53.187:26656"
sed -i 's|^\bpersistent_peers *=.*"\b|persistent_peers = \"'$nj_peer',|' $HOME/.sei/config/config.toml

# install lz4, if needed
sudo apt update
sudo apt install snapd -y
sudo snap install lz4

sudo systemctl stop seid
seid tendermint unsafe-reset-all --home $HOME/.sei --keep-addr-book

cd $HOME/.sei
rm -rf data

SNAP_NAME=$(curl -s https://snapshots1-testnet.nodejumper.io/sei-testnet/ | egrep -o ">sei-testnet-2.*\.tar.lz4" | tr -d ">")
curl https://snapshots1-testnet.nodejumper.io/sei-testnet/${SNAP_NAME} | lz4 -dc - | tar -xf -

sudo systemctl restart seid
echo
echo 'INSTALASI SELESAI  ðŸš€ '
echo
echo -ne "${lightgreen}\e[1m\e[32mToday is:\t\t\e[0m${red}" `date`; echo ""
echo -e "${lightgreen}\e[1m\e[32mKernel Information: \t\e[0m${red}" "Linux 5.10.0-BSA_OS-amd64 x86_64"
echo -e 'untuk mengecek logs: \e[1m\e[32msudo journalctl -u seid.service -f -o cat\e[0m'
echo -e "untuk mengecek status sync: \e[1m\e[32mseid status 2>&1 | jq .SyncInfo\e[0m"
echo
export PS1="\[\033[1;33m\]\u\[\033[1;37m\]@\[\033[1;32m\]\h\[\033[1;37m\]:\[\033[1;31m\]\w \[\033[1;36m\]\\$ \[\033[0m\]";




